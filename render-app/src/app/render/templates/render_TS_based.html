{% extends "layout.html" %}
{%block body%}

<link rel="stylesheet" href="{{url_for('render_bp.static', filename='css/style.css')}}" />
<link rel="stylesheet" href="{{url_for('render_bp.static', filename='css/graph.css')}}" />


<!-- <div class="container"> -->
<div class="row">
    <div class="col-sm-6" style="padding-bottom: 100px;">
        <nav class="navbar navbar-expand-lg navbar-light bg-light">
            <a class="navbar-brand" href="#">SCOPE</a>
            <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavAltMarkup"
                aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNavAltMarkup">
                <div class="navbar-nav">
                    <a class="nav-item nav-link">SPARQL Query</a>
                    <a class="nav-item nav-link">SPARQL Output</a>
                    <a class="nav-item nav-link">Code Editor</a>
                    <a class="nav-item nav-link">Graph Visualizer</a>

                </div>
            </div>
        </nav>

        <div class="scrollside">

            <!-- sparql Input -->
            <div id="containerheader">
                <span class="left">
                    <a class="headertext stretched-link" data-toggle="collapse" href="#showSPQRLquery" role="button"
                        aria-expanded="true" aria-controls="collapseExample">
                        SPARQL Query
                    </a>
                </span>

                <span class="right">
                    <button type="button" class="btn  btn-secondary" onclick="run_sparql()">
                        Run
                    </button>

                </span>
            </div>

            <div class="collapse show" id="showSPQRLquery">
                <form>
                    <textarea id="sparql_input" name="sparql_input">PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>
PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
PREFIX owl: <http://www.w3.org/2002/07/owl#>
PREFIX xsd: <http://www.w3.org/2001/XMLSchema#>
PREFIX occ: <https://projekt-scope.de/ontologies/occ#> 
PREFIX omg: <https://w3id.org/omg#> 
PREFIX oop: <https://projekt-scope.de/ontologies/oop#>
PREFIX bot: <https://w3id.org/bot#> 

#Graph 
#Element
SELECT ?s ?p ?o WHERE { GRAPH ?g { ?s <https://w3id.org/omg#hasGeometry> ?o } }  
                            </textarea>
                </form>
            </div>


            <!-- sparql output -->
            <div id="containerheader">
                <span class="left">
                    <a class="headertext" data-toggle="collapse" href="#showSPQRLoutput" role="button"
                        aria-expanded="false" aria-controls="collapseExample">
                        SPARQL Output
                    </a>
                </span>
                <span class="right">

                </span>
            </div>


            <div class="collapse show" id="showSPQRLoutput">
                <table class="table" id="table">

                </table>
            </div>



            <div id="containerheader">
                <span class="left">
                    <a class="headertext" data-toggle="collapse" href="#codeMirrorContainer" role="button"
                        aria-expanded="false" aria-controls="collapseExample">
                        Information of clicked Element (ttl based)
                    </a>
                </span>
                <span class="right">

                </span>
            </div>

            <!-- Code Mirror -->
            <div class="collapse show " id="codeMirrorContainer">
                <form>
                    <textarea id="code" name="code">
                        </textarea>
                </form>
            </div>

            <!-- Graph Container -->
            <div id="containerheader">
                <span class="left">
                    <a class="headertext" data-toggle="collapse" href="#graphContainer" role="button"
                        aria-expanded="false" aria-controls="collapseExample">
                        Graph Visualizer
                    </a>
                </span>

                <!-- TODO implement simple List with tripelstore data -->
                <!-- <span class="right">
                    Simplified list in the graph
                    <span class="switch">
                        <input id="toggle-event" type="checkbox" data-toggle="toggle">
                    </span>
                </span> -->
            </div>

            <div class="collapse show " id="graphContainer">
                <div id="svg-body" class="panel-body">
                </div>
            </div>
<div style="height:100px">


        </div>
        </div>
        
    </div>


    <div class="col-sm-6">


        <!-- Render -->
        <div id="render">

        </div>

    </div>

</div>
<!-- </div> -->


<div id="loader"></div>

<script type="text/javascript">
    //---- json name list //
    var jsonNameList = [];
    var ts = true;
</script>

</div>

</div>


<img id="logo" src="{{url_for('render_bp.static', filename='SCOPE Logo final.png')}}">

<div id="container"></div>
<div id="render_about">
    Render for graphbased geometry descriptions <br>
    based on the pythonocc-0.18.2-dev render with <a href="https://github.com/mrdoob/three.js" target="_blank">three.js
        r100</a> <a href=http://www.pythonocc.org>(pythonocc blog)</a> <br>Check out
        <a href=https://www.projekt-scope.de>SCOPE </a> <br>
            Test named graphs from connected triplestore :
            <select onChange="update_JsonNameList_and_render_FromTS(this.value)" id="select">
                <option value=""></option>
                {% for e in examples %}
                <option value="{{e}}">{{e}}</option>
                {% endfor %}

            </select>

</div>

<div id="render_info">

    <div class="panel panel-primary">
        <div class="panel-heading"> Info</div>
        <div class="panel-body" id="graph_panel">
        </div>
        <div class="panel-body" id="element_panel">
        </div>
    </div>
</div>

<div id="commands">
    <div class="span2">
        <button type="button" onclick="setVisibility()" class="btn btn-primary btn-sm  btn-block">view/hide
            shape</button>
        <button type="button" onclick="setWire()" class="btn btn-primary btn-sm  btn-block">view/hide
            wire</button>
        <button type="button" onclick="toggleGrid()" class="btn btn-primary btn-sm  btn-block">view/hide
            grid</button>
        <!-- ToDo At further Services  -->
        <!-- <button type="button" class="btn btn-primary btn-sm  btn-block" onclick="tool_service_api()">BBox</button><br> -->
        <button type="button" onclick="delete_all()" class="btn btn-danger btn-sm btn-block">delete all</button>
    </div>


</div>

{% endblock %}